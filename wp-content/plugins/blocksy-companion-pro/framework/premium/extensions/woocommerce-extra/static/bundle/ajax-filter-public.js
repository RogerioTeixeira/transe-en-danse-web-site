!function(){"use strict";var e={n:function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,{a:r}),r},d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.ctFrontend,r=window.ctEvents,n=e.n(r);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function i(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=class{constructor(){i(this,"id","toggle-filter-panel")}beforeReplace(){const e=document.querySelector(".woo-listing-top");return{wasTopExanded:e&&!!e.querySelector('.ct-toggle-filter-panel[aria-expanded="true"]')}}afterReplace({wasTopExanded:e}){const t=document.querySelector(".ct-products-container").parentNode;if(!t.querySelector(".ct-filter-content"))return;t.querySelector(".ct-toggle-filter-panel")?t.querySelector(".ct-toggle-filter-panel").ariaExpanded=e:e=!1;const r=t.querySelector("#woo-filters-panel");r&&(r.ariaHidden=!e)}};var u=class{constructor(){i(this,"id","pagination")}beforeReplace(){const e=document.querySelector(".ct-pagination");e&&(e.infiniteScroll&&e.infiniteScroll.destroy(),e.remove())}afterReplace(){}};const l=function(e){let t=[],r=e;for(;r&&r!==document;r=r.parentNode)t.push(r);return t=t.reverse(),t.filter(function(e){return!e.matches("body, html")}).map(function(t){if(t===document.body)return"body";let r=t.tagName;if(t!==e&&(r+=""!=t.id?"#"+t.id:"",r+=t.dataset.target?`[data-target="${t.dataset.target}"]`:""),t.className){const e=t.className.split(/\s/);for(let t=0;t<e.length;t++)e[t]&&"active"!==e[t]&&"ct-active"!==e[t]&&(r+="."+e[t])}return r}).join(" > ")};var s=class{constructor(){i(this,"id","search")}beforeReplace(){return{previousSearchInputValue:[...document.querySelectorAll('.ct-filter-search input[type="search"]')].map(function(e){return{selector:l(e),value:e.value}}).filter(function({value:e}){return e})}}afterReplace({previousSearchInputValue:e=[]}){e.map(function({selector:e,value:t}){const r=document.querySelector(e);r&&(r.value=t,ctEvents.trigger("blocksy:filters:search",{el:r,value:t}))})}};var d=class{constructor(){i(this,"id","accordions")}getAllExpandables(){return[...document.querySelectorAll(".ct-filter-item-inner .ct-expandable-trigger, .ct-block-wrapper > .ct-expandable-trigger")]}generateElIdentifier(e){return{selector:l(e),text:(e.textContent||e.parentNode.textContent).replace(/[\d\(\)]/gu,"")}}elementMatchesIdentifier(e,t){let r=(e.textContent||e.parentNode.textContent).replace(/[\d\(\)]/gu,"");return t.text===r&&e.matches(t.selector)}beforeReplace(){var e=this;return{allTriggersStates:this.getAllExpandables().map(function(t){return e.generateElIdentifier(t)}),previousExpandedTriggersStates:this.getAllExpandables().filter(function(e){return"true"===e.ariaExpanded}).map(function(t){return e.generateElIdentifier(t)})}}afterReplace({previousExpandedTriggersStates:e,allTriggersStates:t}){var r=this;this.getAllExpandables().map(function(n){if(!t.some(function(e){return r.elementMatchesIdentifier(n,e)}))return;const o="true"===n.ariaExpanded,c=e.some(function(e){return r.elementMatchesIdentifier(n,e)});if(o&&c)return;n.ariaExpanded=c?"true":"false";const i=function(e){if(e.hasAttribute("data-target"))return document.querySelector(e.getAttribute("data-target"));const t=e.parentNode.querySelector("[aria-hidden]");if(t)return t;const r=e.parentNode.parentNode.querySelector("[aria-hidden]");return r||null}(n);i&&(i.ariaHidden=c?"false":"true")})}};function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const m=[new a,new u,new s,new d],y=function(e){return e.querySelector(".ct-filter-widget")||e.className.includes("ct-active-filters")||e.querySelector(".ct-active-filters")||e.querySelector(".ct-price-filter")},g=function(e){const t=document.createElement("div");t.innerHTML=e;const r=[...new Set(Array.from(document.querySelectorAll(".ct-filter-widget, .ct-price-filter, .ct-active-filters")).map(function(e){let t=null;return e.closest(".ct-block-wrapper")&&(t=e.closest(".ct-block-wrapper").parentNode),e.closest(".ct-widget")&&(t=e.closest(".ct-widget").parentNode),t?l(t):null}).filter(function(e){return e}))],n=function(e){const t=m.reduce(function(e,t){const r=t.beforeReplace();return p(p({},e),r?{[t.id]:r}:{})},{});return document.body.insertAdjacentHTML("beforeend",'<div class="ct-tmp-filter-buffer"></div>'),e.map(function(e){const t=document.querySelector(e);t&&[...t.children].map(function(e){y(e)?e.remove():document.querySelector(".ct-tmp-filter-buffer").appendChild(e)})}),t}(r);!function(e,t){const r=document.querySelector(".ct-products-container").parentNode;let n=null;e.querySelector(".ct-products-container")&&(n=e.querySelector(".ct-products-container").parentNode),n||(n=e.querySelector(".ct-no-results").parentNode),n&&([...r.children].map(function(e){e.matches(".ct-products-container")?[...e.children].map(function(e){e.matches(".ct-filters-loading")||e.remove()}):e.remove()}),[...n.children].map(function(e){if(e.matches(".ct-products-container")){const t=r.querySelector(".ct-products-container");return[...e.children].map(function(e){e.matches(".ct-filters-loading")||t.appendChild(e)}),void r.appendChild(t)}r.insertAdjacentHTML("beforeend",e.outerHTML)}),t.map(function(t){let r=e.querySelector(t);const n=document.querySelector(t);r&&n&&(n.innerHTML="",[...r.children].map(function(e){if(y(e))n.insertAdjacentHTML("beforeend",e.outerHTML);else if(e.id){const t=document.querySelector(`.ct-tmp-filter-buffer #${e.id}`);t&&n.appendChild(t)}}))}))}(t,r),function(e){if(e.previousExpandedTriggersStates){const t=e.previousExpandedTriggersStates.map(function(e){return document.querySelector(e)}).filter(function(e){return e}),r=e.previousExpandedTriggersStates.map(function(e){return document.querySelector(e)}).filter(function(e){return e});[...document.querySelectorAll(".ct-filter-item-inner .ct-expandable-trigger, .ct-block-wrapper > .ct-expandable-trigger")].map(function(e){if("true"===e.ariaExpanded&&r.includes(e))return;if(!t.includes(e))return;e.ariaExpanded="false";const{target:n}=e.dataset;if(document.querySelector(n)&&(document.querySelector(n).ariaHidden="true"),r.includes(e)){e.ariaExpanded="true";const{target:t}=e.dataset;document.querySelector(t)&&(document.querySelector(t).ariaHidden="false")}})}document.querySelector(".ct-tmp-filter-buffer").remove(),m.forEach(function(t){const r=e[t.id]?e[t.id]:{};t.afterReplace(r)})}(n)},h=function(e){const t=new URL(e,location.href);t.searchParams.delete("blocksy_ajax"),e=t.toString(),window.history.pushState(null,document.title,e)},S={},b=function(e){const t=new URL(e);t.searchParams.delete("blocksy_ajax"),window.history.replaceState(null,"",t.toString())},v=function(e){return new Promise(function(r){let n=document.querySelector(".ct-products-container");document.querySelector('[data-ajax-filters*="scroll"]')&&n&&n.closest(".ct-container")&&n.closest(".ct-container").getBoundingClientRect().top<0&&function(e){if(!e)return;var r=window.scrollY,n=null;const o=function(c){n||(n=c);var i=c-n;const a=e.getBoundingClientRect();let u=0;const l=document.querySelector("[data-sticky*=yes], [data-sticky*=fixed]");l&&(u=parseFloat(getComputedStyle(l).top)||0);const s=window.scrollY+a.top-(parseFloat(getComputedStyle(document.body).getPropertyValue("--header-sticky-height"))||0)-20-u;var d,f,p,m=Math.max((d=i,f=r,p=-r,(d/=350)<1?p/2*d*d+f:-p/2*(--d*(d-2)-1)+f),s);t.areWeDealingWithSafari?(scrollTo(0,m),i<700&&requestAnimationFrame(o)):scrollTo(0,s)};t.areWeDealingWithSafari?requestAnimationFrame(o):o(0)}(n.closest(".ct-container"));const o=document.querySelector(".ct-filters-loading");!e&&o&&o.classList.add("active"),n.dataset.animate="leave:start",requestAnimationFrame(function(){n.dataset.animate="leave:end";x([...n.children].find(function(e){return e.matches("[data-products], .woocommerce-no-products-found")}),function(){n.dataset.animate="leave",r()})});const c=document.querySelector("#woo-filters-panel");if(c&&"closeOnSelect"in c.dataset&&c.classList.contains("active")){const e=document.querySelector('[data-toggle-panel="#woo-filters-panel"]');e&&e.click()}})},w=function(e,t){return new Promise(function(r){(function(e,t=!1){return S[e]?new Promise(function(t){t(S[e]);const r=S[e].silent_redirect;r&&b(S[e].url),window.ct_customizer_localizations||(S[e]=S[e].clone(),S[e].silent_redirect=r)}):new Promise(function(r){return fetch(e).then(function(n){if(n.redirected){if(!t)return void window.location.replace(n.url);b(n.url)}r(n),window.ct_customizer_localizations||(S[e]=n.clone(),S[e].silent_redirect=t)})})})(e,t).then(function(e){return e.text()}).then(function(e,...t){g(e),r()})})},q=function(e,t){const r=!!S[e];v(r).then(function(){w(e,t).then(function(){setTimeout(function(){!function(){const e=document.querySelector(".ct-filters-loading");if(!e)return;const t=function(){let e=document.querySelector(".ct-products-container");e.dataset.animate="appear:start",requestAnimationFrame(function(){e.dataset.animate="appear:end",x([...e.children].find(function(e){return e.matches("[data-products], .woocommerce-no-products-found")}),function(){e.removeAttribute("data-animate")})}),n().trigger("blocksy:frontend:init")};e.classList.contains("active")?(e.classList.remove("active"),x(e,function(){t()})):t()}()},50)})})};function x(e,t){const r=function(n){n.target===e&&(e.removeEventListener("transitionend",r),t())};e.addEventListener("transitionend",r)}(0,t.registerDynamicChunk)("blocksy_ext_woo_extra_ajax_filters",{mount:function(e,{event:t}){if("popstate"===t.type)return void q(window.location.href);const r=document.querySelector('[data-ajax-filters*="yes"]');if("INPUT"===e.tagName&&"checkbox"===e.type&&"change"===t.type){const t=e.closest(".ct-filter-item").querySelector("a");if(!r)return void(window.location.href=t.getAttribute("href"));e=t}if("A"===e.tagName){const t=e.closest(".ct-filter-item");if(t&&(t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")),e.closest(".ct-filter-item")){const t=e.closest(".ct-filter-item").querySelector('[type="checkbox"]');if(t){t.getAttribute("checked")?(t.checked=!1,t.removeAttribute("checked")):(t.checked=!0,t.setAttribute("checked","checked"));const e=t.cloneNode(!0);t.parentNode.replaceChild(e,t)}}if(!r)return void(window.location.href=e.getAttribute("href"))}if("FORM"===e.tagName)return;if(!r)return;if("SELECT"===e.tagName&&e.closest(".woocommerce-ordering")){const t=new URL(window.location.href);[...new FormData(e.closest(".woocommerce-ordering")).entries()].map(function([e,r]){"paged"!==e&&t.searchParams.set(e,r)});const r=new URLSearchParams(t.search);r.set("blocksy_ajax","yes");const n=`${t.origin}${t.pathname}?${r.toString()}`;return h(n),void q(n)}let n=e.getAttribute("href"),o=!1;if(e.classList.contains("page-numbers")){const e=new URL(n),t=new URLSearchParams(e.search);t.set("blocksy_ajax","yes"),n=`${e.origin}${e.pathname}?${t.toString()}`,o=!0}h(n),q(n,o)}})}();